## web 安全

###  XSS  跨站脚本工具
 
 当页面被注入恶意javascript 脚本时，浏览器是无法区分这些脚本是否是恶意注入的还是正常的页面脚本，所以恶意注入 javaScript 脚本也拥有所有的脚本权限
 
    恶意的脚本的危害
    
+ 窃取cookie 信息 

通过恶意js脚本获取 Cookie 信息，然后通过ajax加上CORS功能将数据发送给恶意服务器，恶意服务器拿到用户的 Cookie 信息之后，就可以模拟用户的登录，然后进行账户操作。
+ 监听用户行为
 
通过恶意js脚本，可以做到监听用户各种事件，比如获取登陆的键入字符串完成hack用户信息。

+ 更改DOM结构

比较常见的就是通过运营商或者路由器添加浮窗广告，增收自身收入
 
 

###  xss 的类型

+ 反射型
 
 上传 script 放在url后面诱导客户
 
 + 存储型

通过上图，我们可以看出存储型 XSS 攻击大致需要经过如下步骤：

1. 首先hacker利用站点漏洞将一段恶意 JavaScript 代码提交到网站的数据库中；
2. 然后用户向网站请求包含了恶意 JavaScript 脚本的页面；
3. 当用户浏览该页面的时候，恶意脚本就会将用户的 Cookie 信息等数据上传到服务器。


 
 #### 预防的形式： 
  
  * 特殊字符转化为 HTML 实体，这样在输出时，恶意的代码就无法执行了
  *  提交 代码字符串 保存到服务器 ，用户进入后 被动 被攻击
  * httpOnly:由于很多的xss 攻击都是盗用 cookie因此  可以通过 使用 httponly 属性防止直接通过 coument.cookie 来获取 cookie
  
  ### CSRF 跨站请求伪造
  
  预防的方式：1. 二次的确认 ，token 的认证
  


###  文件上传漏洞
